<!DOCTYPE html>
<!-- saved from url=(0069)http://pnc.co.il/dev/iscroll-5-pull-to-refresh-and-infinite-demo.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0">
	
	<title>iScroll-5 DEMO: Pull to Refresh + Infinite Next Page load</title>
	
	<script type="text/javascript" src="./jquery-1.10.2.js"></script>
	<script type="text/javascript" src="./iscroll-probe.js"></script>
	<script type="text/javascript" src="./baseIscroll.js"></script>
	
	<script type="text/javascript">

		document.addEventListener('touchmove', function(e) {e.preventDefault();	}, false);
		
		
		$(function(){
			new baseIscroll({
				pageSize : 10,
				pullDownEl : $('.pullDown')[0],
				pullUpEl : $('.pullUp')[0],
				wrapperId : 'wrapper',
				ulEl : $('#theList'),
				initData : function(curPage){
					console.info('curPage='+(curPage==undefined?1:curPage));
					if(!curPage || curPage==1){
						curPage==1;
						$('#theList').append('<li>Pretty row initial content1</li>');
						$('#theList').append('<li>Pretty row initial content2</li>');
						$('#theList').append('<li>Pretty row initial content3</li>');
						$('#theList').append('<li>Pretty row initial content4</li>');
						$('#theList').append('<li>Pretty row initial content5</li>');
						$('#theList').append('<li>Pretty row initial content6</li>');
						$('#theList').append('<li>Pretty row initial content7</li>');
						$('#theList').append('<li>Pretty row initial content8</li>');
						$('#theList').append('<li>Pretty row initial content9</li>');
						$('#theList').append('<li>Pretty row initial content10</li>');
					}else{
						$('#theList').append('<li>Pretty row X1</li>');
						$('#theList').append('<li>Pretty row X2</li>');
						$('#theList').append('<li>Pretty row X3</li>');
						$('#theList').append('<li>Pretty row X4</li>');
						$('#theList').append('<li>Pretty row X5</li>');
						$('#theList').append('<li>Pretty row X6</li>');
						$('#theList').append('<li>Pretty row X7</li>');
						$('#theList').append('<li>Pretty row X8</li>');
						$('#theList').append('<li>Pretty row X9</li>');
						$('#theList').append('<li>Pretty row X10</li>');
						$('#theList').append('<li>Pretty row X11</li>');
						$('#theList').append('<li>Pretty row X12</li>');
					}
				}
			});
			
			
		});
		
	</script>
	
	<style type="text/css">
		* {
			-webkit-box-sizing: border-box;
			-moz-box-sizing: border-box;
			box-sizing: border-box;
		}
		
		html {
			-ms-touch-action: none;
		}
		
		body,ul,li {
			padding: 0;
			margin: 0;
			border: 0;
		}
		
		body {
			font-size: 12px;
			font-family: ubuntu, helvetica, arial;
			overflow: hidden; /* this is important to prevent the whole page to bounce */
		}
		
		#header {
			position: absolute;
			z-index: 2;
			top: 0;
			left: 0;
			width: 100%;
			height: 45px;
			line-height: 45px;
			background: #CD235C;
			padding: 0;
			color: #eee;
			font-size: 20px;
			text-align: center;
			font-weight: bold;
		}
		
		#footer {
			position: absolute;
			z-index: 2;
			bottom: 0;
			left: 0;
			width: 100%;
			height: 48px;
			background: #444;
			padding: 0;
			border-top: 1px solid #444;
		}
		
		#wrapper {
			position: absolute;
			z-index: 1;
			top: 45px;
			bottom: 48px;
			left:9999px; /* Not a must - can be 0 - but it makes the appearance of the content a bit nicer */
			width: 100%;
			background: #ccc;
			overflow: hidden;
		}
		
		#scroller {
			position: absolute;
			z-index: 1;
			-webkit-tap-highlight-color: rgba(0,0,0,0);
			width: 100%;
			-webkit-transform: translateZ(0);
			-moz-transform: translateZ(0);
			-ms-transform: translateZ(0);
			-o-transform: translateZ(0);
			transform: translateZ(0);
			-webkit-touch-callout: none;
			-webkit-user-select: none;
			-moz-user-select: none;
			-ms-user-select: none;
			user-select: none;
			-webkit-text-size-adjust: none;
			-moz-text-size-adjust: none;
			-ms-text-size-adjust: none;
			-o-text-size-adjust: none;
			text-size-adjust: none;
		}
		
		#scroller ul {
			list-style: none;
			padding: 0;
			margin: 0;
			width: 100%;
			text-align: left;
		}
		
		#scroller li {
			padding: 0 10px;
			height: 80px;
			line-height: 80px;
			border-bottom: 1px solid #ccc;
			border-top: 1px solid #fff;
			background-color: #fafafa;
			font-size: 14px;
		}
		
		.pullDownLabel, .pullUpLabel {color:#999}
		.pullDown, .pullUp {background:#fff;height:40px;line-height:40px;font-weight:bold;font-size:0.8em;color:#888}
		.pullDown .pullDownIcon, .pullUp .pullUpIcon {display:block;float:left;opacity:0.4;width:40px;height:40px;background:url(pull_to_refresh.png) 0 0 no-repeat;-webkit-background-size:40px 80px;-ms-background-size:40px 80px; background-size:40px 80px;-webkit-transition-property:-webkit-transform;-ms-transition-property:-webkit-transform;-webkit-transition-duration:250ms;-ms-transition-duration:250ms}
		.pullDown .pullDownIcon {-webkit-transform:rotate(0deg) translateZ(0);-ms-transform:rotate(0deg) translateZ(0)}
		.pullUp .pullUpIcon  {-webkit-transform:rotate(-180deg) translateZ(0);-ms-transform:rotate(-180deg) translateZ(0)}
		.pullDown.flip .pullDownIcon {-webkit-transform:rotate(-180deg) translateZ(0);-ms-transform:rotate(-180deg) translateZ(0)}
		.pullUp.flip .pullUpIcon {-webkit-transform:rotate(0deg) translateZ(0);-ms-transform:rotate(0deg) translateZ(0)}
		.pullDown.loading .pullDownIcon, .pullUp.loading .pullUpIcon {background-position:0 100%;-webkit-transform:rotate(0deg) translateZ(0);-ms-transform:rotate(0deg) translateZ(0);-webkit-transition-duration:0ms;-ms-transition-duration:0ms;-webkit-animation-name:loading;-ms-animation-name:loading;-webkit-animation-duration:1s;-ms-animation-duration:1s;-webkit-animation-iteration-count:infinite;-ms-animation-iteration-count:infinite;-webkit-animation-timing-function:linear;-ms-animation-timing-function:linear}
		
		@-webkit-keyframes loading {
			from {-webkit-transform:rotate(0deg) translateZ(0)}
			to {-webkit-transform:rotate(360deg) translateZ(0)}
		}
		@-ms-keyframes loading {
			from {-ms-transform:rotate(0deg) translateZ(0)}
			to {-ms-transform:rotate(360deg) translateZ(0)}
		}

	
	</style>
</head>
<body>
	<div id="header">iScroll</div>
	<div id="wrapper" style="left: 0px;">
		<div id="scroller"
			style="transition-timing-function: cubic-bezier(0.1, 0.57, 0.1, 1); transition-duration: 0ms; transform: translate(0px, -40px) translateZ(0px);">
			<div class="pullDown">
				<span class="pullDownIcon"></span> <span class="pullDownLabel">Pull down to refresh...</span>
			</div>
			<ul id='theList'>
			</ul>
			<div class="pullUp"></div>
		</div>
		<div class="iScrollVerticalScrollbar iScrollLoneScrollbar"
			style="position: absolute; z-index: 9999; width: 7px; bottom: 2px; top: 2px; right: 1px; overflow: hidden; pointer-events: none; transform: translateZ(0px); transition-duration: 0ms; opacity: 0;">
			<div class="iScrollIndicator"
				style="box-sizing: border-box; position: absolute; border: 1px solid rgba(255, 255, 255, 0.901961); border-radius: 3px; width: 100%; transition-duration: 0ms; display: block; height: 457px; transform: translate(0px, 29px) translateZ(0px); transition-timing-function: cubic-bezier(0.1, 0.57, 0.1, 1); background: rgba(0, 0, 0, 0.498039);"></div>
		</div>
	</div>
	<div id="footer"></div>

</body></html>